# Project Summary

## é¡¹ç›®ç»“æ„

```
academic_url_agent/
â”œâ”€â”€ .env.example              # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ pyproject.toml            # Poetry é¡¹ç›®é…ç½®
â”œâ”€â”€ poetry.lock               # ä¾èµ–é”å®šæ–‡ä»¶
â”œâ”€â”€ test_setup.py             # å®‰è£…æµ‹è¯•è„šæœ¬
â”‚
â”œâ”€â”€ README.md                 # æ¶æ„å’ŒåŸç†ï¼ˆåŸæ•™ç¨‹ï¼‰
â”œâ”€â”€ QUICKSTART.md             # 3 åˆ†é’Ÿå¿«é€Ÿå¼€å§‹
â”œâ”€â”€ INSTALL.md                # è¯¦ç»†å®‰è£…è¯´æ˜
â”œâ”€â”€ USAGE.md                  # è¯¦ç»†ä½¿ç”¨è¯´æ˜
â”œâ”€â”€ PROJECT_SUMMARY.md        # æœ¬æ–‡ä»¶
â”‚
â””â”€â”€ src/academic_url_agent/
    â”œâ”€â”€ __init__.py           # åŒ…åˆå§‹åŒ–
    â”œâ”€â”€ main.py               # ç¨‹åºå…¥å£
    â”œâ”€â”€ graph.py              # LangGraph ReAct å†³ç­–å±‚
    â”œâ”€â”€ pipeline.py           # ç”Ÿæˆå±‚ï¼ˆç¿»è¯‘ã€æ€»ç»“ã€æ€ç»´å¯¼å›¾ï¼‰
    â””â”€â”€ tools.py              # æŠ“å–å·¥å…·ï¼ˆfetch_staticã€fetch_dynamicï¼‰
```

## æ ¸å¿ƒç‰¹æ€§

### âœ… å·²å®ç°åŠŸèƒ½

1. **ReAct Agent å†³ç­–å±‚**ï¼ˆLangGraphï¼‰
   - æ™ºèƒ½é€‰æ‹©æŠ“å–ç­–ç•¥ï¼ˆé™æ€ â†’ åŠ¨æ€ï¼‰
   - è‡ªåŠ¨é‡è¯•å’Œé”™è¯¯å¤„ç†
   - çŠ¶æ€ç®¡ç†å’Œå¾ªç¯æ§åˆ¶

2. **ç½‘é¡µæŠ“å–å·¥å…·**
   - `fetch_static`: HTTP GET é™æ€æŠ“å–
   - `fetch_dynamic`: Playwright æµè§ˆå™¨æ¸²æŸ“

3. **ç”Ÿæˆå±‚ç®¡çº¿**
   - åˆ†å—ç¿»è¯‘ï¼ˆè‹±æ–‡ â†’ ä¸­æ–‡ï¼‰
   - è´¨é‡è‡ªæ£€çº é”™
   - è¦ç‚¹æ€»ç»“ï¼ˆ5-10 ç‚¹ï¼‰
   - éš¾ç‚¹è§£é‡Šï¼ˆ3-5 ä¸ªæ¦‚å¿µï¼‰
   - PlantUML æ€ç»´å¯¼å›¾ç”Ÿæˆ
   - **Markdown æŠ¥å‘Šç”Ÿæˆ**ï¼ˆåŒ…å«æ‰€æœ‰å†…å®¹ï¼‰

4. **æœ¬åœ° LLM æ”¯æŒ**
   - æ”¯æŒ OpenAI å…¼å®¹ API
   - è‡ªç­¾åè¯ä¹¦å¤„ç†
   - å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆé¿å…å¯¼å…¥æ—¶å°±éœ€è¦ API keyï¼‰

5. **è¾“å‡ºæ ¼å¼**
   - `report.md` - å®Œæ•´ Markdown æŠ¥å‘Š
   - `mindmap.puml` - PlantUML æºç 
   - `mindmap.png` - æ€ç»´å¯¼å›¾å›¾ç‰‡

### ğŸ¯ è®¾è®¡äº®ç‚¹

1. **ä¸¤å±‚æ¶æ„æ¸…æ™°åˆ†ç¦»**
   ```
   å†³ç­–å±‚ï¼ˆLangGraphï¼‰ï¼š ä¸ç¡®å®šæ€§åœºæ™¯ï¼Œéœ€è¦ Agent å†³ç­–
   ç”Ÿæˆå±‚ï¼ˆLCEL Chainï¼‰ï¼šç¡®å®šæ€§åœºæ™¯ï¼Œå›ºå®šæµç¨‹
   ```

2. **å»¶è¿Ÿåˆå§‹åŒ–**
   - æ¨¡å—å¯ä»¥å¯¼å…¥ä½†ä¸ç«‹å³åˆ›å»º LLM å®ä¾‹
   - é€‚åˆæµ‹è¯•å’Œæ¨¡å—åŒ–å¼€å‘

3. **SSL çµæ´»é…ç½®**
   - æ”¯æŒè‡ªç­¾åè¯ä¹¦çš„æœ¬åœ°éƒ¨ç½²
   - ç¯å¢ƒå˜é‡æ§åˆ¶

4. **å›¾ç»“æ„å¯è§†åŒ–**
   - ReAct å¾ªç¯çš„æ§åˆ¶æµé€šè¿‡å›¾ç»“æ„è¡¨è¾¾
   - æ˜“äºç†è§£å’Œæ‰©å±•

## è¿è¡Œå‘½ä»¤é€ŸæŸ¥

```bash
# 1. å®‰è£…
poetry install
poetry run playwright install chromium

# 2. æµ‹è¯•
poetry run python test_setup.py

# 3. è¿è¡Œ
poetry run python -m academic_url_agent.main "https://example.com"
```

## ç¯å¢ƒå˜é‡è¯´æ˜

| å˜é‡ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `LLM_API_KEY` | âœ… | - | API å¯†é’¥ |
| `LLM_BASE_URL` | âŒ | OpenAI | API åŸºç¡€ URL |
| `LLM_MODEL` | âŒ | gpt-4o-mini | æ¨¡å‹åç§° |
| `DISABLE_SSL_VERIFY` | âŒ | false | ç¦ç”¨ SSL éªŒè¯ |

## ä¾èµ–è¯´æ˜

### æ ¸å¿ƒä¾èµ–

- `langchain-core >= 0.3.0` - LangChain æ ¸å¿ƒ
- `langchain-openai >= 0.3.0` - OpenAI LLM é›†æˆ
- `langgraph >= 0.2.0` - å›¾çŠ¶æ€æœºæ¡†æ¶

### å·¥å…·ä¾èµ–

- `requests >= 2.32.0` - HTTP è¯·æ±‚
- `beautifulsoup4 >= 4.12.0` - HTML è§£æ
- `readability-lxml >= 0.8.0` - æ­£æ–‡æå–
- `playwright >= 1.40.0` - æµè§ˆå™¨è‡ªåŠ¨åŒ–
- `python-dotenv >= 1.0.0` - ç¯å¢ƒå˜é‡ç®¡ç†

## æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·è¾“å…¥ URL                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å†³ç­–å±‚ (Decision Layer) â”€â”€ LangGraph ReAct å›¾               â”‚
â”‚                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   æœ‰ tool_calls   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   â”‚  agent  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚   tools    â”‚              â”‚
â”‚   â”‚ (LLM)   â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ (æ‰§è¡Œå·¥å…·)  â”‚              â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   tool ç»“æœè¿”å›    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚        â”‚ æ—  tool_calls                                       â”‚
â”‚        â–¼                                                     â”‚
â”‚      END â†’ è¾“å‡ºæŠ“å–åˆ°çš„æ­£æ–‡                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–¼  è‹±æ–‡æ­£æ–‡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”Ÿæˆå±‚ (Generation Layer) â”€â”€ LLM Chains ç®¡çº¿                â”‚
â”‚                                                              â”‚
â”‚  â‘  åˆ†å—ç¿»è¯‘  â”€â”€â–¶  â‘¡ è´¨é‡è‡ªæ£€çº é”™  â”€â”€â–¶  â‘¢ è¦ç‚¹æ€»ç»“            â”‚
â”‚       â”‚                                       â”‚              â”‚
â”‚       â–¼                                       â–¼              â”‚
â”‚  â‘£ éš¾ç‚¹è§£é‡Š                            â‘¤ PlantUML æ€ç»´å¯¼å›¾    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æŠ€æœ¯æ ˆ

| å±‚æ¬¡ | æŠ€æœ¯ | ä½œç”¨ |
|------|------|------|
| **Agent æ¡†æ¶** | LangGraph | çŠ¶æ€å›¾ã€ReAct å¾ªç¯ |
| **LLM æ¡†æ¶** | LangChain | Prompt ç®¡ç†ã€é“¾å¼è°ƒç”¨ |
| **LLM æä¾›å•†** | OpenAI API | å…¼å®¹ APIï¼ˆæ”¯æŒæœ¬åœ°ï¼‰ |
| **ç½‘é¡µæŠ“å–** | Requests + BS4 | é™æ€æŠ“å– |
| **æµè§ˆå™¨è‡ªåŠ¨åŒ–** | Playwright | åŠ¨æ€æŠ“å– |
| **æ­£æ–‡æå–** | Readability | æ™ºèƒ½æå–ä¸»è¦å†…å®¹ |

## æ‰©å±•æ–¹å‘

### å¯ä»¥æ·»åŠ çš„åŠŸèƒ½

1. **æ›´å¤šæŠ“å–å·¥å…·**
   - PDF æŠ“å–
   - ä½¿ç”¨ Jina Reader API
   - arXiv ä¸“ç”¨æŠ“å–å™¨

2. **äººæœºäº¤äº’**
   - Human-in-the-loop èŠ‚ç‚¹
   - æŠ“å–å‰ç¡®è®¤
   - å·¥å…·é€‰æ‹©æ—¶äººå·¥ä»‹å…¥

3. **å†…å®¹éªŒè¯**
   - è´¨é‡æ£€æŸ¥èŠ‚ç‚¹
   - é•¿åº¦éªŒè¯
   - è¯­è¨€æ£€æµ‹

4. **æŒä¹…åŒ–**
   - Checkpointer ä¿å­˜çŠ¶æ€
   - æ–­ç‚¹ç»­ä¼ 

5. **å¯è§†åŒ–**
   - å¯¼å‡º Mermaid å›¾
   - æ˜¾ç¤ºå†³ç­–è¿‡ç¨‹

### æ·»åŠ æ–°å·¥å…·ç¤ºä¾‹

```python
# tools.py
@tool
def fetch_pdf(url: str) -> str:
    """ä» PDF URL æå–æ–‡æœ¬å†…å®¹ã€‚"""
    # å®ç°
    pass

ALL_TOOLS = [fetch_static, fetch_dynamic, fetch_pdf]
```

### æ·»åŠ æ–°èŠ‚ç‚¹ç¤ºä¾‹

```python
# graph.py
def validate_node(state: AgentState) -> dict:
    """éªŒè¯æŠ“å–å†…å®¹çš„è´¨é‡"""
    content = state["messages"][-1].content
    if len(content) < 500:
        return {"messages": [HumanMessage("å†…å®¹å¤ªçŸ­ï¼Œè¯·é‡è¯•")]}
    return {"messages": []}

workflow.add_node("validate", validate_node)
workflow.add_edge("agent", "validate")
workflow.add_conditional_edges("validate", ...)
```

## æ–‡æ¡£ç´¢å¼•

- **å¿«é€Ÿå¼€å§‹**: [QUICKSTART.md](QUICKSTART.md)
- **å®‰è£…æŒ‡å—**: [INSTALL.md](INSTALL.md)
- **ä½¿ç”¨è¯´æ˜**: [USAGE.md](USAGE.md)
- **æ¶æ„åŸç†**: [README.md](README.md)
- **æœ¬æ–‡ä»¶**: [PROJECT_SUMMARY.md](PROJECT_SUMMARY.md)

## å¼€å‘å»ºè®®

1. **æµ‹è¯•é©±åŠ¨**
   ```bash
   poetry run python test_setup.py  # æ¯æ¬¡æ”¹åŠ¨åè¿è¡Œ
   ```

2. **ç¯å¢ƒéš”ç¦»**
   ```bash
   poetry shell  # è¿›å…¥è™šæ‹Ÿç¯å¢ƒ
   ```

3. **è°ƒè¯•**
   - æŸ¥çœ‹ LangGraph å›¾çš„å†³ç­–è¿‡ç¨‹
   - ä½¿ç”¨ print è¾“å‡ºä¸­é—´çŠ¶æ€
   - è®¾ç½®è¾ƒå°çš„ MAX_ITERATIONS å¿«é€Ÿæµ‹è¯•

4. **æ€§èƒ½ä¼˜åŒ–**
   - ä½¿ç”¨æ›´å¿«çš„æ¨¡å‹ï¼ˆå¦‚ gpt-4o-miniï¼‰
   - å‡å°‘ç¿»è¯‘å—å¤§å°
   - è·³è¿‡ä¸éœ€è¦çš„ç”Ÿæˆæ­¥éª¤

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ PR å’Œ Issueï¼

å»ºè®®çš„æ”¹è¿›æ–¹å‘ï¼š
- æ”¯æŒæ›´å¤šè¯­è¨€ç¿»è¯‘
- æ·»åŠ æ›´å¤šæŠ“å–å·¥å…·
- ä¼˜åŒ– Prompt
- æ·»åŠ å•å…ƒæµ‹è¯•
- æ”¹è¿›é”™è¯¯å¤„ç†

## è®¸å¯è¯

è¯·å‚è€ƒé¡¹ç›®æ ¹ç›®å½•çš„ LICENSE æ–‡ä»¶ã€‚
